<!DOCTYPE html>
<html>
<head>
	<title>模板</title>
	<meta charset="utf-8">

	<!-- 收藏用logo图标 -->
	<link rel="bookmark" type="image/x-icon" href="images/favicon.ico"/>
	<!-- 网站显示页logo图标 -->
	<link rel="shortcut icon" href="images/favicon.ico">

	<!--公用部分css-->
	<link rel="stylesheet" type="text/css" href="css/index.css">
	<!--车辆信息部分css-->
	<link rel="stylesheet" type="text/css" href="css/vehicle-information-entry.css">
</head>
<body>
	<!-- 首部 -->
	<!--调用共同的首部-->
	<script type="text/javascript" src="js/index_header.js"></script>
	<div class="Main">
		<!-- 
			表示当前页面的名称 
			"已加盟企业商家":0
			"已加盟学生商家":1
			"企业商家加盟申请":2
			"学生商家加盟申请":3
			"账号申请":4
			"修改密码":5
			"账号管理":6
			"我要坐车":7
			"车票管理":8
			"租车订单":9
			"当前公告":10
			"历史公告":11
		-->
		<input type="hidden" name="pageName" value="5">
		<!--调用共同的二级导航栏-->
		<script type="text/javascript" src="js/Navigation.js"></script>
		<div class="vehicle-information-entry">
			<div class="vehicle-infor-con">
				<h1>车辆信息</h1>
				<ul>
					<li><input type="text" id="license_plate_number" placeholder="车牌号"></li>
					<li><input type="text" id="vehicle_type" placeholder="车辆类型"></li>
					<li><input type="text" id="color" placeholder="车身颜色"></li>
					<li><input type="text" id="driver_name" placeholder="司机姓名"></li>
					<li><input type="text" id="driver_phone" placeholder="司机联系方式"></li>
					<input  class="submit" id="submit" onclick="submitInformation()" type="submit" value="提交" />
					<input  class="finish" id="finish" onclick="CarRentalStatement()" type="submit" value="结单" />
				</ul>
			</div>
		</div>
	</div>
	<script type="text/javascript"  src="js/jquery-3.4.1.min.js"></script>
	<script>
		var LocString=String(window.document.location.href);
		function GetQueryString(str){
		var rs=new RegExp("(^|)"+str+"=([^/&]*)(/&|$)","gi").exec(LocString),tmp;
		if(tmp=rs)return tmp[2];
		return "没有这个参数";
		}
		var tourism_id=GetQueryString("tourism_id");
		console.log("车票订单ID："+tourism_id);
		
		function submitInformation(){
			var license_plate_number=$('#license_plate_number').val();
			var vehicle_type=$('#vehicle_type').val();
			var color=$('#color').val();
			var driver_name=$('#driver_name').val();
			var driver_phone=$('#driver_phone').val();
			if(confirm("车牌号 : "+license_plate_number+"\r"+"车辆类型 ："+vehicle_type+"\r"+"车身颜色 : "+color+"\r"+"司机姓名 : "+driver_name+"\r"+"司机联系方式 : "+driver_phone)){
				$.ajax({
				type: "post",  //数据提交方式（post/get）
				url: commentDataUrl,     //这里是请求的后台地址，自己定义
				data: {
				"tourism_id":tourism_id,
				"license_plate_number":license_plate_number,
				"vehicle_type":vehicle_type,
				"color":color,
				"driver_name":driver_name,
				"driver_phone":driver_phone,
				},//提交的数据
				dataType: "json",//返回的数据类型格式
				success: function(msg){
					if (msg.success){  //修改成功
					   alert("提交车辆信息成功") //修改成功处理代码...
					}else {  //修改失败
					   alert("提交车辆信息失败") //修改失败处理代码...
					}
				}
				});
			
			}else{
				alert("你取消了提交")
			}
		}
		function CarRentalStatement(){
			if(confirm("确定是否结单")){
				alert("租车ID:"+tourism_id+"结单（接上数据库后删除）");  
				$.ajax({
						type: "post",  //数据提交方式（post/get）
						url: commentDataUrl,     //这里是请求的后台地址，自己定义
						data: {
						"tourism_id":tourism_id},//提交的数据
						dataType: "json",//返回的数据类型格式
						success: function(msg){
							if (msg.success){  //修改成功
							   alert("结单成功") //修改成功处理代码...
							}else {  //修改失败
							   alert("结单失败") //修改失败处理代码...
							}
						}
					});
			}else{
				alert("你取消了结单");
			}
		}
	</script>
</body>
</html>
