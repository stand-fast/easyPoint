<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.easyPoint.dao.TicketDao">
    <resultMap id="ticketMap" type="PartTicket">
        <id column="ticket_id" property="ticketId"/>
        <result column="departure_time" property="departureTime"/>
        <result column="departure_place" property="departurePlace"/>
        <result column="destination" property="destination"/>
        <result column="price" property="price"/>
        <result column="seat_surplus" property="seatSurplus"/>
        <result column="type" property="type"/>
    </resultMap>

    <!-- 根据同乡会id查询该同乡会的车票 -->
    <select id="findTicketByAssociationId" parameterType="Integer" resultMap="ticketMap">
        SELECT ticket_id,
               departure_time,
               departure_place,
               destination,
               price,
               seat_surplus,
               type
        FROM ticket
        WHERE association_id = #{associationId}
    </select>
</mapper>