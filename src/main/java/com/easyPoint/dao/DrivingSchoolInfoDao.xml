<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.easyPoint.dao.DrivingSchoolInfoDao">
    <!--//默认显示，下拉加载更多-->
    <!--List<DrivingSchoolInfo> findAddDrivingSchoolInfo(int pageNum);-->

    <!--//查询商品详情信息-->
    <!--DrivingSchoolInfoDetail findDrivingSchoolInfoDetailById(int drivingSchoolId);-->
    


    <select id="findAddDrivingSchoolInfo" parameterType="int" resultMap="drivingSchoolInfo">
        select driving_school_id,merchant_id,default_img_url,driving_school_name,lowest_price
                from driving_school_info limit #{pageNum},10
    </select>

    <select id="findDrivingSchoolInfoDetailById" parameterType="int" resultMap="drivingSchoolInfoDetail">
        select * from driving_school_info where drivingSchoolId = #{drivingSchoolId}
    </select>

    <select id="findAllDrivingSchoolSetmealByDrivingSchoolId" parameterType="int" resultMap="drivingSchoolSetmeal">
        select * from driving_school_setmeal where drivingSchoolId = #{drivingSchoolId}
    </select>
    
    <resultMap id="drivingSchoolInfo" type="DrivingSchoolInfo">
        <id column="driving_school_id" property="drivingSchoolId"/>
        <result column="merchant_id" property="merchantId"/>
        <result column="default_img_url" property="defaultImgUrl"/>
        <result column="driving_school_name" property="drivingSchoolName"/>
        <result column="lowest_price" property="lowestPrice"/>
    </resultMap>

    <resultMap id="drivingSchoolInfoDetail" type="DrivingSchoolInfoDetail">
        <id column="driving_school_id" property="drivingSchoolId"/>
        <result column="merchant_id" property="merchantId"/>
        <result column="default_img_url" property="defaultImgUrl"/>
        <result column="driving_school_name" property="drivingSchoolName"/>
        <result column="lowest_price" property="lowestPrice"/>
        <result column="detail_imgs_url" property="detailImgsUrl"/>
        <result column="study_time_morning" property="studyTimeMorning"/>
        <result column="study_time_noon" property="studyTimeNoon"/>
        <result column="study_time_night" property="studyTimeNight"/>
        <result column="conditions_overleaf" property="conditionsOverleaf"/>
        <result column="driving_school_profile" property="drivingSchoolProfile"/>
        <result column="pass_rate" property="passRate"/>
    </resultMap>

    <resultMap id="drivingSchoolSetmeal" type="DrivingSchoolSetmeal">
        <id column="setmeal_id" property="setmealId"/>
        <result column="driving_school_id" property="drivingSchoolId"/>
        <result column="setmeal_name" property="setmealName"/>
        <result column="study_cycle" property="studyCycle"/>
        <result column="price" property="price"/>
        <result column="note" property="note"/>
    </resultMap>
</mapper>