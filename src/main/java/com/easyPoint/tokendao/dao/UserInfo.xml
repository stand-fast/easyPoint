<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.user.dao.UserInfo">
 	<!-- 
 	public User selectUserInfoByOpenId(openId);
	
	public int insertUserInfo(User user);
 	 -->
 	 
 	 <select id="selectUserInfoByOpenId" parameterType="String" resultType="User">
 	 	select * from user where openId = #{openId}
 	 </select>
 	 
 	 <select id="selectUserInfoByUid" parameterType="int" resultType="User">
 	 	select * from user where uid = #{uid}
 	 </select>
 	 
 	 <insert id="insertUserInfo" parameterType="User">
 	 	insert into user
 	 	<trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="openId != null">
                openId,
            </if>
            <if test="nickName != null">
                nickName,
            </if>
            <if test="gender != null">
                gender,
            </if>
            <if test="avatarUrl != null">
                avatarUrl
            </if>               
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="openId != null">
                #{openId},
            </if>
            <if test="nickName != null">
                #{nickName},
            </if>
            <if test="gender != null">
                #{gender},
            </if>
            <if test="avatarUrl != null">
                #{avatarUrl}
            </if>               
        </trim>
 	 </insert>
 
 </mapper>