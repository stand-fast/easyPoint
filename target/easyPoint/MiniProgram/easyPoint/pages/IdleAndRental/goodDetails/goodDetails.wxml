<!--pages/IdleAndRental/goodDetails/goodDetails.wxml-->
<view class="header">
    <swiper indicator-dots="true"
    autoplay="true" interval="5000" duration="1000" circular="true" class="swiper_images" indicator-color="#fff" 
         indicator-active-color="#ffdd42">
        <block wx:for="{{good_details_info.detailsImg}}" wx:key="key">
            <swiper-item>
                <image src="{{item}}" class="slide-image"/>
            </swiper-item>
        </block>
    </swiper>
    <view class="head_title">
        <view class="head_title_item">
            <view class="goodName">{{good_details_info.goodName}}</view>
            <view class="goodPrice">￥
                <text>{{good_details_info.price}}</text>
                <view class="goodPrice_pledge">/押金{{good_details_info.deposit}}</view>
            </view>
        </view>
        <view class="head_title_item">
            <view class="provider">提供商：{{good_details_info.companyName}}</view>
            <view class="hadrent">已租次数：{{good_details_info.leaseNum }}</view>
        </view>
    </view>
</view>
<view class="infomations">
    <view class='nav_switch'>
        <view class="{{currentTab==0 ? 'on' :''}} nav_text" data-current='0' bindtap="swichNav">商品详情</view>
        <view class="{{currentTab==1 ? 'on' :''}} nav_text" data-current='1' bindtap="swichNav">交易流程</view>
    </view>
    <view class="hr"></view>
    <block wx:if="{{currentTab==0}}">
        <view class="detail_item">
            <view class="item_title">
                <view class="shu"></view>
                <view class="title">详细：</view>
            </view>
            <view class="detail_item_content">{{good_details_info.detailInfo}}</view>
            <view class="item_title">
                <view class="shu"></view>
                <view class="title">种类：</view>
            </view>
            <view class="last">
                <view wx:for="{{good_details_info.variety}}" wx:key="{{index}}" wx:for-item="item">
                    <view class="goodtype_list">{{item}}</view>
                </view>
            </view>
        </view>
    </block>
    <block wx:if="{{currentTab==1}}">
        <view class="detail_item">
            <view class="item_title">
                <view class="shu"></view>
                <view class="title">押金说明：</view>
            </view>
            <view class="detail_item_content">{{good_details_info.depositInstructions}}</view>
            <view class="item_title">
                <view class="shu"></view>
                <view class="title">取货：</view>
            </view>
            <view class="detail_item_content">{{good_details_info.receivedGood}}</view>
            <view class="item_title">
                <view class="shu"></view>
                <view class="title">还货：</view>
            </view>
            <view class="detail_item_content">{{good_details_info.returnGood}}</view>
            <view class="item_title">
                <view class="shu"></view>
                <view class="title">营业时间：</view>
            </view>
            <view class="detail_item_content">{{good_details_info.businessHours}}</view>
        </view>
    </block>
</view>
<view class="footer">
    <view class="contactBtn">
        <button open-type="contact" session-from="weapp">
            <image src="/images/icon/cservice.png"></image>
        </button>
    </view>
    <view class="protocal_text">
        <view class='{{check?"circle1":"circle2"}}' bindtap="checkChange">
            <image src="/images/icon/right.png"></image>
        </view>
        <text class="Text">浏览并同意易点协议</text>
    </view>
    <view class="submitBtn"><button bindtap="toRent">{{word}}</button></view>
</view>
<!-- 底部选择租赁规格栏 -->
<view class="dialog_screen" bindtap="hideModal" wx:if="{{showModalStatus}}"></view>
<view animation="{{animationData}}" class="dialog_attr_box" wx:if="{{showModalStatus}}">
    <view class="dislog_item">
        <image src="{{filesUrl}}"></image>
        <view class="dislog_item_goods">
            <view id="dislog_item_goods_price">￥ <text>{{setPrice}}</text></view>
            <view id="dislog_item_goods_chooseType">已选择：{{chooseType}} + {{chooseSize}}码  ×{{number}}  <text> 库存：{{save}}</text></view>
        </view>
    </view>
    <view class="hr"></view>
    <scroll-view scroll-y="true" class="scroll_bar">
        <view class="dislog_item_title">选择类别</view>
        <view class="dialog_item_list" style="height:{{typeHeight}}rpx">
            <view wx:for="{{good_details_info.goodVariety}}" wx:key="name" class='dialog_content' wx:for-item="item">
                <view class="{{typeclick==index?'type_pre':'type_nor'}}" bindtap='typeClick' data-index="{{index}}">{{item.itemName}}</view>
            </view>
        </view>
        <view class="dislog_item_title">选择尺寸</view>
        <view class="dialog_item_list" style="height:{{sizeHeight}}rpx">
            <view wx:for="{{good_details_info.goodVariety[typeclick].items}}" wx:key="name" class='dialog_content size' wx:for-item="item">
                <view class="{{sizeclick==index?'type_pre':'type_nor'}}" bindtap='sizeClick' data-index="{{index}}">{{item.specifc}}</view>
            </view>
        </view>
        <view class="dislog_item_choose">
            <view class="dislog_item_choose_title">选择数量</view>
            <view class="dislog_item_choose_stepper">
                <view class="jian" bindtap="bindMinus">-</view>
                <input class="number" type="number" disabled="true" value="{{number}}" bindinput="bindManual"></input>
                <view class="jia" bindtap="bindPlus">+</view>
            </view>
        </view>
        <view class="dislog_item_choose">
            <view class="dislog_item_choose_title">选择租借天数</view>
            <view class="dislog_item_choose_stepper">
                <view class="jian" bindtap="bindMinus1">-</view>
                <input class="number" type="number" disabled="true" value="{{leaseDate}}" bindinput="bindManual"></input>
                <view class="jia" bindtap="bindPlus1">+</view>
            </view>
        </view>
        <view class="dislog_item_choose">
            <view class="dislog_item_choose_title">选择取货时间</view>
            <picker mode="multiSelector" value="{{dateTime}}" bindchange="changeDateTime" bindcolumnchange="changeDateTimeColumn" range="{{dateTimeArray}}" class="pickTime">
                <input value="{{startTime}}" placeholder="请选择取货时间" placeholder-class="placehold" disabled="true"></input>
            </picker>
        </view>
    </scroll-view>
    <view class="confirmBtn"><button bindtap="toOrder">确定</button></view>
</view>